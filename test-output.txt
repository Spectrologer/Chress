
> chress@1.0.0 test
> vitest run

Could not scan directory c:\Users\virgi\OneDrive\Desktop\Apps\Chress\public\assets: ENOENT: no such file or directory, scandir 'c:\Users\virgi\OneDrive\Desktop\Apps\Chress\public\assets'

[1m[46m RUN [49m[22m [36mv4.0.8 [39m[90mc:/Users/virgi/OneDrive/Desktop/Apps/Chress[39m

 [32mâœ“[39m tests/MiniMap.test.ts [2m([22m[2m34 tests[22m[2m)[22m[32m 296[2mms[22m[39m
 [32mâœ“[39m tests/MessageLog.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 212[2mms[22m[39m
 [32mâœ“[39m tests/PlayerStatsUI.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 287[2mms[22m[39m
 [32mâœ“[39m tests/EventSystem.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 43[2mms[22m[39m
 [32mâœ“[39m tests/TurnManager.test.ts [2m([22m[2m39 tests[22m[2m)[22m[32m 76[2mms[22m[39m
[90mstdout[2m | tests/messageManager.test.ts[2m > [22m[2mMessageManager typing & blip behavior[2m > [22m[2mshowMessage with typewriterSpeed = 0 displays text immediately
[22m[39mshowMessage: "Hello world!", useTypewriter: true
OverlayMessageHandler.show: "Hello world!", imageSrc: null, isPersistent: false
Overlay message shown

[90mstdout[2m | tests/messageManager.test.ts[2m > [22m[2mMessageManager typing & blip behavior[2m > [22m[2mPenneMessageHandler shows message only if no sign message active
[22m[39mOverlayMessageHandler.show: "<span class="character-name">Penne</span><br>Give me meat!", imageSrc: assets/fauna/penne.png, isPersistent: false
Overlay message shown

 [32mâœ“[39m tests/ItemManager.test.ts [2m([22m[2m42 tests[22m[2m)[22m[32m 56[2mms[22m[39m
 [32mâœ“[39m tests/messageManager.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 202[2mms[22m[39m
 [32mâœ“[39m tests/UIManager.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 288[2mms[22m[39m
 [32mâœ“[39m tests/GridIterator.test.ts [2m([22m[2m35 tests[22m[2m)[22m[32m 60[2mms[22m[39m
 [32mâœ“[39m tests/Position.test.ts [2m([22m[2m99 tests[22m[2m)[22m[32m 50[2mms[22m[39m
[90mstdout[2m | tests/BoardLoader.test.ts[2m > [22m[2mBoardLoader[2m > [22m[2mBoard Registration[2m > [22m[2mshould register a board for a specific zone
[22m[39mRegistered canon board "museum" for zone (0,0) dimension 1

[90mstdout[2m | tests/BoardLoader.test.ts[2m > [22m[2mBoardLoader[2m > [22m[2mBoard Registration[2m > [22m[2mshould support both canon and custom board types
[22m[39mRegistered canon board "museum" for zone (0,0) dimension 1
Registered custom board "my_zone" for zone (5,5) dimension 0

[90mstdout[2m | tests/BoardLoader.test.ts[2m > [22m[2mBoardLoader[2m > [22m[2mBoard Registration[2m > [22m[2mshould create unique keys for different dimensions
[22m[39mRegistered canon board "surface" for zone (0,0) dimension 0
Registered canon board "interior" for zone (0,0) dimension 1
Registered canon board "underground" for zone (0,0) dimension 2

[90mstderr[2m | tests/BoardLoader.test.ts[2m > [22m[2mBoardLoader[2m > [22m[2mBoard Validation[2m > [22m[2mshould reject board without size
[22m[39mBoard missing valid size array [width, height]

[90mstderr[2m | tests/BoardLoader.test.ts[2m > [22m[2mBoardLoader[2m > [22m[2mBoard Validation[2m > [22m[2mshould reject board with invalid size format
[22m[39mBoard missing valid size array [width, height]

[90mstderr[2m | tests/BoardLoader.test.ts[2m > [22m[2mBoardLoader[2m > [22m[2mBoard Validation[2m > [22m[2mshould reject board with mismatched terrain length
[22m[39mBoard terrain length 50 doesn't match size 10x10 (expected 100)

[90mstderr[2m | tests/BoardLoader.test.ts[2m > [22m[2mBoardLoader[2m > [22m[2mBoard Validation[2m > [22m[2mshould reject board without features
[22m[39mBoard missing features object

[90mstderr[2m | tests/BoardLoader.test.ts[2m > [22m[2mBoardLoader[2m > [22m[2mFeature Conversion[2m > [22m[2mshould return null for unknown features
[22m[39mUnknown feature type: unknown_feature

[90mstdout[2m | tests/BoardLoader.test.ts[2m > [22m[2mBoardLoader[2m > [22m[2mCache Management[2m > [22m[2mshould clear cache
[22m[39mBoard cache cleared

 [32mâœ“[39m tests/BoardLoader.test.ts [2m([22m[2m26 tests[22m[2m)[22m[32m 39[2mms[22m[39m
[90mstderr[2m | tests/UIEventCoordinator.test.ts[2m > [22m[2mUIEventCoordinator[2m > [22m[2mDialog Events[2m > [22m[2mUI_DIALOG_SHOW with invalid type logs error
[22m[39mEvent validation failed for "ui:dialog:show":
  Invalid value for "type": got "invalid_type", expected one of [barter, sign, statue]
Event data: { type: [32m'invalid_type'[39m }
[UIEventCoordinator] Unknown dialog type: invalid_type

[90mstderr[2m | tests/UIEventCoordinator.test.ts[2m > [22m[2mUIEventCoordinator[2m > [22m[2mMessage Log Events[2m > [22m[2mUI_MESSAGE_LOG adds category prefix for error priority
[22m[39m[Game Message] [COMBAT] Something went wrong { category: [32m'combat'[39m, timestamp: [33m1762566523848[39m }

 [32mâœ“[39m tests/EventValidator.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 35[2mms[22m[39m
 [32mâœ“[39m tests/UIEventCoordinator.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 53[2mms[22m[39m
[90mstdout[2m | tests/RecordsOverlay.test.ts[2m > [22m[2mshowRecordsOverlay reads values from localStorage and populates DOM
[22m[39m[RecordsPanelManager] showRecordsOverlay called
[RecordsPanelManager] Overlay classList after adding show: stats-panel-overlay show
[RecordsPanelManager] Overlay display style: block

 [32mâœ“[39m tests/RecordsOverlay.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 59[2mms[22m[39m
 [32mâœ“[39m tests/ZoneKeyUtils.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32mâœ“[39m tests/Player.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32mâœ“[39m tests/InventoryUI.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 52[2mms[22m[39m
 [32mâœ“[39m tests/DirectionUtils.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mâœ“[39m tests/TileStrategyPattern.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 38[2mms[22m[39m
 [32mâœ“[39m tests/InteractionManager.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 23[2mms[22m[39m
 [32mâœ“[39m tests/BarterWindow.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 38[2mms[22m[39m
 [32mâœ“[39m tests/CombatActionManager.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 49[2mms[22m[39m
 [32mâœ“[39m tests/SafeServiceCall.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 32[2mms[22m[39m
 [32mâœ“[39m tests/FogRenderer.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m tests/AnimationRenderer.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m tests/Lizord.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 23[2mms[22m[39m
 [32mâœ“[39m tests/zoneSpawnManager.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32mâœ“[39m tests/EnemyAttackRange.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32mâœ“[39m tests/LineOfSightUtils.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32mâœ“[39m tests/constants.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m tests/CustomBoardZoneKeyFix.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 8[2mms[22m[39m
 [32mâœ“[39m tests/dialogue-progression.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m tests/ZoneStateManager.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 13[2mms[22m[39m
 [32mâœ“[39m tests/MiniMapHighlights.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 10[2mms[22m[39m
 [32mâœ“[39m tests/dialogue-state-simple.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 9[2mms[22m[39m
 [32mâœ“[39m tests/UI.styles.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m tests/ItemUtils.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m tests/UI.dom.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 2[2mms[22m[39m

[31mâ¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Suites 10 [49m[22m[31mâ¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m tests/CombatManager.test.ts[2m [ tests/CombatManager.test.ts ][22m
[31m[1mError[22m: No test suite found in file c:/Users/virgi/OneDrive/Desktop/Apps/Chress/tests/CombatManager.test.ts[39m
[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/10]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/EnemyPathfinding.test.ts[2m [ tests/EnemyPathfinding.test.ts ][22m
[31m[1mError[22m: No test suite found in file c:/Users/virgi/OneDrive/Desktop/Apps/Chress/tests/EnemyPathfinding.test.ts[39m
[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/10]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/GameStateManager.test.ts[2m [ tests/GameStateManager.test.ts ][22m
[31m[1mError[22m: No test suite found in file c:/Users/virgi/OneDrive/Desktop/Apps/Chress/tests/GameStateManager.test.ts[39m
[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/10]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/grid-caching.test.ts[2m [ tests/grid-caching.test.ts ][22m
[31m[1mError[22m: No test suite found in file c:/Users/virgi/OneDrive/Desktop/Apps/Chress/tests/grid-caching.test.ts[39m
[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/10]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/InventoryService.test.ts[2m [ tests/InventoryService.test.ts ][22m
[31m[1mError[22m: No test suite found in file c:/Users/virgi/OneDrive/Desktop/Apps/Chress/tests/InventoryService.test.ts[39m
[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/10]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/PathfindingController.test.ts[2m [ tests/PathfindingController.test.ts ][22m
[31m[1mError[22m: No test suite found in file c:/Users/virgi/OneDrive/Desktop/Apps/Chress/tests/PathfindingController.test.ts[39m
[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/10]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/SaveDeserializer.test.ts[2m [ tests/SaveDeserializer.test.ts ][22m
[31m[1mError[22m: No test suite found in file c:/Users/virgi/OneDrive/Desktop/Apps/Chress/tests/SaveDeserializer.test.ts[39m
[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[7/10]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/SaveSerializer.test.ts[2m [ tests/SaveSerializer.test.ts ][22m
[31m[1mError[22m: No test suite found in file c:/Users/virgi/OneDrive/Desktop/Apps/Chress/tests/SaveSerializer.test.ts[39m
[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[8/10]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/StorageAdapter.test.ts[2m [ tests/StorageAdapter.test.ts ][22m
[31m[1mError[22m: No test suite found in file c:/Users/virgi/OneDrive/Desktop/Apps/Chress/tests/StorageAdapter.test.ts[39m
[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[9/10]â¯[22m[39m

[41m[1m FAIL [22m[49m tests/ZoneGenerator.test.ts[2m [ tests/ZoneGenerator.test.ts ][22m
[31m[1mError[22m: No test suite found in file c:/Users/virgi/OneDrive/Desktop/Apps/Chress/tests/ZoneGenerator.test.ts[39m
[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[10/10]â¯[22m[39m


[2m Test Files [22m [1m[31m10 failed[39m[22m[2m | [22m[1m[32m38 passed[39m[22m[90m (48)[39m
[2m      Tests [22m [1m[32m576 passed[39m[22m[90m (576)[39m
[2m   Start at [22m 17:48:37
[2m   Duration [22m 12.07s[2m (transform 5.07s, setup 865ms, collect 11.27s, tests 2.24s, environment 47.12s, prepare 1.71s)[22m

